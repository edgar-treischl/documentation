<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Advanced UI | Mastering Shiny</title>
  <meta name="description" content="The official guide to the Shiny web application framework for R." />
  <meta name="generator" content="bookdown 0.11.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Advanced UI | Mastering Shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The official guide to the Shiny web application framework for R." />
  <meta name="github-repo" content="jcheng5/shiny-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Advanced UI | Mastering Shiny" />
  
  <meta name="twitter:description" content="The official guide to the Shiny web application framework for R." />
  

<meta name="author" content="Joe Cheng" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reactivity-intro.html">
<link rel="next" href="reactivity-mental-model.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mastering Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>Getting started</b></span></li>
<li class="chapter" data-level="1" data-path="before-we-begin.html"><a href="before-we-begin.html"><i class="fa fa-check"></i><b>1</b> Before we begin</a><ul>
<li class="chapter" data-level="1.1" data-path="before-we-begin.html"><a href="before-we-begin.html#prerequisites"><i class="fa fa-check"></i><b>1.1</b> Prerequisites</a><ul>
<li class="chapter" data-level="" data-path="before-we-begin.html"><a href="before-we-begin.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="before-we-begin.html"><a href="before-we-begin.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="before-we-begin.html"><a href="before-we-begin.html#shiny"><i class="fa fa-check"></i>Shiny</a></li>
<li class="chapter" data-level="" data-path="before-we-begin.html"><a href="before-we-begin.html#other-r-packages"><i class="fa fa-check"></i>Other R packages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="before-we-begin.html"><a href="before-we-begin.html#cheat-sheet"><i class="fa fa-check"></i><b>1.2</b> Cheat sheet</a></li>
<li class="chapter" data-level="1.3" data-path="before-we-begin.html"><a href="before-we-begin.html#if-you-get-stuck"><i class="fa fa-check"></i><b>1.3</b> If you get stuck</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html"><i class="fa fa-check"></i><b>2</b> Your first Shiny app</a><ul>
<li class="chapter" data-level="2.1" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#create-app"><i class="fa fa-check"></i><b>2.2</b> Create app dir and file</a></li>
<li class="chapter" data-level="2.3" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#running"><i class="fa fa-check"></i><b>2.3</b> Running and stopping</a></li>
<li class="chapter" data-level="2.4" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#adding-ui"><i class="fa fa-check"></i><b>2.4</b> Adding UI controls</a></li>
<li class="chapter" data-level="2.5" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#server-function"><i class="fa fa-check"></i><b>2.5</b> Adding behavior</a></li>
<li class="chapter" data-level="2.6" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#reactive-expr"><i class="fa fa-check"></i><b>2.6</b> Reducing duplication with reactive expressions</a></li>
<li class="chapter" data-level="2.7" data-path="your-first-shiny-app.html"><a href="your-first-shiny-app.html#exercises"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-ui.html"><a href="basic-ui.html"><i class="fa fa-check"></i><b>3</b> Basic UI</a><ul>
<li class="chapter" data-level="3.1" data-path="basic-ui.html"><a href="basic-ui.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="basic-ui.html"><a href="basic-ui.html#inputs"><i class="fa fa-check"></i><b>3.2</b> Inputs</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basic-ui.html"><a href="basic-ui.html#common-structure"><i class="fa fa-check"></i><b>3.2.1</b> Common structure</a></li>
<li class="chapter" data-level="3.2.2" data-path="basic-ui.html"><a href="basic-ui.html#free-text"><i class="fa fa-check"></i><b>3.2.2</b> Free text</a></li>
<li class="chapter" data-level="3.2.3" data-path="basic-ui.html"><a href="basic-ui.html#numeric-inputs"><i class="fa fa-check"></i><b>3.2.3</b> Numeric inputs</a></li>
<li class="chapter" data-level="3.2.4" data-path="basic-ui.html"><a href="basic-ui.html#dates"><i class="fa fa-check"></i><b>3.2.4</b> Dates</a></li>
<li class="chapter" data-level="3.2.5" data-path="basic-ui.html"><a href="basic-ui.html#limited-choices"><i class="fa fa-check"></i><b>3.2.5</b> Limited choices</a></li>
<li class="chapter" data-level="3.2.6" data-path="basic-ui.html"><a href="basic-ui.html#yesno-questions"><i class="fa fa-check"></i><b>3.2.6</b> Yes/no questions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basic-ui.html"><a href="basic-ui.html#outputs"><i class="fa fa-check"></i><b>3.3</b> Outputs</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basic-ui.html"><a href="basic-ui.html#text"><i class="fa fa-check"></i><b>3.3.1</b> Text</a></li>
<li class="chapter" data-level="3.3.2" data-path="basic-ui.html"><a href="basic-ui.html#tables"><i class="fa fa-check"></i><b>3.3.2</b> Tables</a></li>
<li class="chapter" data-level="3.3.3" data-path="basic-ui.html"><a href="basic-ui.html#plots"><i class="fa fa-check"></i><b>3.3.3</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="basic-ui.html"><a href="basic-ui.html#layout"><i class="fa fa-check"></i><b>3.4</b> Layouts</a><ul>
<li class="chapter" data-level="3.4.1" data-path="basic-ui.html"><a href="basic-ui.html#page-functions"><i class="fa fa-check"></i><b>3.4.1</b> Page functions</a></li>
<li class="chapter" data-level="3.4.2" data-path="basic-ui.html"><a href="basic-ui.html#themes"><i class="fa fa-check"></i><b>3.4.2</b> Themes</a></li>
<li class="chapter" data-level="3.4.3" data-path="basic-ui.html"><a href="basic-ui.html#under-the-hood"><i class="fa fa-check"></i><b>3.4.3</b> Under the hood</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="basic-ui.html"><a href="basic-ui.html#common-styles"><i class="fa fa-check"></i><b>3.5</b> Common styles</a><ul>
<li class="chapter" data-level="3.5.1" data-path="basic-ui.html"><a href="basic-ui.html#page-with-sidebar"><i class="fa fa-check"></i><b>3.5.1</b> Page with sidebar</a></li>
<li class="chapter" data-level="3.5.2" data-path="basic-ui.html"><a href="basic-ui.html#multi-row"><i class="fa fa-check"></i><b>3.5.2</b> Multi-row</a></li>
<li class="chapter" data-level="3.5.3" data-path="basic-ui.html"><a href="basic-ui.html#dashboard"><i class="fa fa-check"></i><b>3.5.3</b> Dashboard</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reactivity-intro.html"><a href="reactivity-intro.html"><i class="fa fa-check"></i><b>4</b> Basic reactivity</a><ul>
<li class="chapter" data-level="4.1" data-path="reactivity-intro.html"><a href="reactivity-intro.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="reactivity-intro.html"><a href="reactivity-intro.html#the-server-function"><i class="fa fa-check"></i><b>4.2</b> The server function</a><ul>
<li class="chapter" data-level="4.2.1" data-path="reactivity-intro.html"><a href="reactivity-intro.html#server-function-parameters"><i class="fa fa-check"></i><b>4.2.1</b> Server function parameters</a></li>
<li class="chapter" data-level="4.2.2" data-path="reactivity-intro.html"><a href="reactivity-intro.html#input"><i class="fa fa-check"></i><b>4.2.2</b> Input</a></li>
<li class="chapter" data-level="4.2.3" data-path="reactivity-intro.html"><a href="reactivity-intro.html#output"><i class="fa fa-check"></i><b>4.2.3</b> Output</a></li>
<li class="chapter" data-level="4.2.4" data-path="reactivity-intro.html"><a href="reactivity-intro.html#imperative-vs.declarative"><i class="fa fa-check"></i><b>4.2.4</b> Imperative vs. declarative</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reactivity-intro.html"><a href="reactivity-intro.html#inputs-and-outputs"><i class="fa fa-check"></i><b>4.3</b> Using inputs and outputs together</a><ul>
<li class="chapter" data-level="4.3.1" data-path="reactivity-intro.html"><a href="reactivity-intro.html#outputs-are-atomic"><i class="fa fa-check"></i><b>4.3.1</b> Outputs are atomic</a></li>
<li class="chapter" data-level="4.3.2" data-path="reactivity-intro.html"><a href="reactivity-intro.html#side-effects"><i class="fa fa-check"></i><b>4.3.2</b> Side effects</a></li>
<li class="chapter" data-level="4.3.3" data-path="reactivity-intro.html"><a href="reactivity-intro.html#reactive-expressions-intro"><i class="fa fa-check"></i><b>4.3.3</b> Reactive expressions</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reactivity-intro.html"><a href="reactivity-intro.html#controlling-effect-flow"><i class="fa fa-check"></i><b>4.4</b> Controlling effect flow</a></li>
<li class="chapter" data-level="4.5" data-path="reactivity-intro.html"><a href="reactivity-intro.html#reactivity-roadblocks"><i class="fa fa-check"></i><b>4.5</b> Reactivity roadblocks</a></li>
</ul></li>
<li class="part"><span><b>Mastering user interfaces</b></span></li>
<li class="chapter" data-level="5" data-path="advanced-ui.html"><a href="advanced-ui.html"><i class="fa fa-check"></i><b>5</b> Advanced UI</a><ul>
<li class="chapter" data-level="5.1" data-path="advanced-ui.html"><a href="advanced-ui.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="advanced-ui.html"><a href="advanced-ui.html#outline"><i class="fa fa-check"></i>Outline</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="advanced-ui.html"><a href="advanced-ui.html#introduction-to-html"><i class="fa fa-check"></i><b>5.2</b> HTML 101</a><ul>
<li class="chapter" data-level="5.2.1" data-path="advanced-ui.html"><a href="advanced-ui.html#inline-formatting-tags"><i class="fa fa-check"></i><b>5.2.1</b> Inline formatting tags</a></li>
<li class="chapter" data-level="5.2.2" data-path="advanced-ui.html"><a href="advanced-ui.html#block-tags"><i class="fa fa-check"></i><b>5.2.2</b> Block tags</a></li>
<li class="chapter" data-level="5.2.3" data-path="advanced-ui.html"><a href="advanced-ui.html#tags-with-attributes"><i class="fa fa-check"></i><b>5.2.3</b> Tags with attributes</a></li>
<li class="chapter" data-level="5.2.4" data-path="advanced-ui.html"><a href="advanced-ui.html#parents-and-children"><i class="fa fa-check"></i><b>5.2.4</b> Parents and children</a></li>
<li class="chapter" data-level="5.2.5" data-path="advanced-ui.html"><a href="advanced-ui.html#comments"><i class="fa fa-check"></i><b>5.2.5</b> Comments</a></li>
<li class="chapter" data-level="5.2.6" data-path="advanced-ui.html"><a href="advanced-ui.html#escaping"><i class="fa fa-check"></i><b>5.2.6</b> Escaping</a></li>
<li class="chapter" data-level="5.2.7" data-path="advanced-ui.html"><a href="advanced-ui.html#html-tag-vocabulary"><i class="fa fa-check"></i><b>5.2.7</b> HTML tag vocabulary</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="advanced-ui.html"><a href="advanced-ui.html#generating-html"><i class="fa fa-check"></i><b>5.3</b> Generating HTML with tag objects</a><ul>
<li class="chapter" data-level="5.3.1" data-path="advanced-ui.html"><a href="advanced-ui.html#using-functions-to-create-tags"><i class="fa fa-check"></i><b>5.3.1</b> Using functions to create tags</a></li>
<li class="chapter" data-level="5.3.2" data-path="advanced-ui.html"><a href="advanced-ui.html#using-named-arguments-to-create-attributes"><i class="fa fa-check"></i><b>5.3.2</b> Using named arguments to create attributes</a></li>
<li class="chapter" data-level="5.3.3" data-path="advanced-ui.html"><a href="advanced-ui.html#using-unnamed-arguments-to-create-children"><i class="fa fa-check"></i><b>5.3.3</b> Using unnamed arguments to create children</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="advanced-ui.html"><a href="advanced-ui.html#using-css"><i class="fa fa-check"></i><b>5.4</b> Customizing with CSS</a><ul>
<li class="chapter" data-level="5.4.1" data-path="advanced-ui.html"><a href="advanced-ui.html#introduction-to-css"><i class="fa fa-check"></i><b>5.4.1</b> Introduction to CSS</a></li>
<li class="chapter" data-level="5.4.2" data-path="advanced-ui.html"><a href="advanced-ui.html#including-custom-css-in-shiny"><i class="fa fa-check"></i><b>5.4.2</b> Including custom CSS in Shiny</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="advanced-ui.html"><a href="advanced-ui.html#dependencies"><i class="fa fa-check"></i><b>5.5</b> Managing JavaScript/CSS dependencies</a><ul>
<li class="chapter" data-level="5.5.1" data-path="advanced-ui.html"><a href="advanced-ui.html#creating-html-dependency-objects"><i class="fa fa-check"></i><b>5.5.1</b> Creating HTML dependency objects</a></li>
<li class="chapter" data-level="5.5.2" data-path="advanced-ui.html"><a href="advanced-ui.html#using-html-dependency-objects"><i class="fa fa-check"></i><b>5.5.2</b> Using HTML dependency objects</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Mastering reactivity</b></span></li>
<li class="chapter" data-level="6" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html"><i class="fa fa-check"></i><b>6</b> Understanding reactive programming</a><ul>
<li class="chapter" data-level="6.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#terminology-note"><i class="fa fa-check"></i>Terminology note</a></li>
<li class="chapter" data-level="" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#outline-1"><i class="fa fa-check"></i>Outline</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#motivation"><i class="fa fa-check"></i><b>6.2</b> Introducing reactive programming</a><ul>
<li class="chapter" data-level="6.2.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#event-driven"><i class="fa fa-check"></i><b>6.2.1</b> The traditional approach: Event-driven programming</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#primitives"><i class="fa fa-check"></i><b>6.3</b> The building blocks of reactive programming</a><ul>
<li class="chapter" data-level="6.3.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reactive-values-values-that-change-over-time"><i class="fa fa-check"></i><b>6.3.1</b> Reactive values: values that change over time</a></li>
<li class="chapter" data-level="6.3.2" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#observers-actions-that-execute-automatically"><i class="fa fa-check"></i><b>6.3.2</b> Observers: Actions that execute automatically</a></li>
<li class="chapter" data-level="6.3.3" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reactive-expressions-smart-calculations"><i class="fa fa-check"></i><b>6.3.3</b> Reactive expressions: Smart calculations</a></li>
<li class="chapter" data-level="6.3.4" data-path="basic-ui.html"><a href="basic-ui.html#outputs"><i class="fa fa-check"></i><b>6.3.4</b> Outputs</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#example"><i class="fa fa-check"></i><b>6.4</b> An example: CRAN download logs</a><ul>
<li class="chapter" data-level="6.4.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#what-are-the-inputs-for-the-user-to-provide"><i class="fa fa-check"></i><b>6.4.1</b> 1. What are the inputs for the user to provide?</a></li>
<li class="chapter" data-level="6.4.2" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#what-are-the-conceptual-steps-performed-in-the-script"><i class="fa fa-check"></i><b>6.4.2</b> 2. What are the conceptual “steps” performed in the script?</a></li>
<li class="chapter" data-level="6.4.3" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#for-each-of-the-steps-performed-is-it-a-calculation-an-output-or-a-task"><i class="fa fa-check"></i><b>6.4.3</b> 3. For each of the steps performed: is it a <em>calculation</em>, an <em>output</em>, or a <em>task</em>?</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#dependency-tracking"><i class="fa fa-check"></i><b>6.5</b> Demystifying dependency tracking</a><ul>
<li class="chapter" data-level="6.5.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#how-dependency-tracking-works"><i class="fa fa-check"></i><b>6.5.1</b> How dependency tracking works</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#step-through"><i class="fa fa-check"></i><b>6.6</b> A step-by-step tour of reactive execution</a><ul>
<li class="chapter" data-level="6.6.1" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#a-session-begins"><i class="fa fa-check"></i><b>6.6.1</b> A session begins</a></li>
<li class="chapter" data-level="6.6.2" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#execution-begins"><i class="fa fa-check"></i><b>6.6.2</b> Execution begins</a></li>
<li class="chapter" data-level="6.6.3" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reading-a-reactive-expression"><i class="fa fa-check"></i><b>6.6.3</b> Reading a reactive expression</a></li>
<li class="chapter" data-level="6.6.4" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reading-an-input"><i class="fa fa-check"></i><b>6.6.4</b> Reading an input</a></li>
<li class="chapter" data-level="6.6.5" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reactive-expression-completes"><i class="fa fa-check"></i><b>6.6.5</b> Reactive expression completes</a></li>
<li class="chapter" data-level="6.6.6" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#observer-completes"><i class="fa fa-check"></i><b>6.6.6</b> Observer completes</a></li>
<li class="chapter" data-level="6.6.7" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#the-next-observer-executes"><i class="fa fa-check"></i><b>6.6.7</b> The next observer executes</a></li>
<li class="chapter" data-level="6.6.8" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#execution-completes-outputs-flushed"><i class="fa fa-check"></i><b>6.6.8</b> Execution completes, outputs flushed</a></li>
<li class="chapter" data-level="6.6.9" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#an-input-changes"><i class="fa fa-check"></i><b>6.6.9</b> An input changes</a></li>
<li class="chapter" data-level="6.6.10" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#notifying-dependents"><i class="fa fa-check"></i><b>6.6.10</b> Notifying dependents</a></li>
<li class="chapter" data-level="6.6.11" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#removing-relationships"><i class="fa fa-check"></i><b>6.6.11</b> Removing relationships</a></li>
<li class="chapter" data-level="6.6.12" data-path="reactivity-mental-model.html"><a href="reactivity-mental-model.html#reexecution"><i class="fa fa-check"></i><b>6.6.12</b> Reexecution</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Mastering Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="advanced-ui" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Advanced UI</h1>
<div id="introduction-3" class="section level2">
<h2><span class="header-section-number">5.1</span> Introduction</h2>
<p>The native languages of the web are HTML (for content), CSS (for styling), and JavaScript (for behavior). Shiny is designed to be accessible for R users who aren’t familiar with any of those languages. But if you do speak these languages, you can take full advantage of them with Shiny to customize your apps or extend the Shiny framework.</p>
<p>The previous chapter showed you the higher-level UI functions that come with Shiny. In this chapter, we’ll take that a couple of steps deeper by learning how our R code gets translated into the HTML that’s ultimately sent to the browser. Armed with that knowledge, you’ll be able to add arbitrary HTML and CSS to your Shiny apps with ease.</p>
<p>If you don’t know HTML, and aren’t keen to learn, you can safely skip this chapter. If you don’t know HTML today but may be inclined to learn it, you should be able to make sense of this chapter and understand the relationship between Shiny UI and HTML. If you are familiar with HTML already, you should find this chapter extremely useful–and you can skip over the sections that introduce HTML and CSS.</p>
<div id="outline" class="section level3 unnumbered">
<h3>Outline</h3>
<ul>
<li>Section <a href="advanced-ui.html#introduction-to-html">5.2</a> is a quick but gentle guide to the basics of HTML. It won’t turn you into a web designer, but you’ll at least be able to understand the rest of the chapter.</li>
<li>Section <a href="advanced-ui.html#generating-html">5.3</a> introduces tag objects, and the family of functions that produce them. These functions give us all the flexibility of writing raw HTML, while still retaining the power and syntax of R.</li>
<li>Section <a href="advanced-ui.html#using-css">5.4</a> demonstrates several ways of incorporating custom CSS into your app (for example, to customize fonts and colors).</li>
<li>Section <a href="advanced-ui.html#dependencies">5.5</a> introduces HTML dependency objects, which can be used to tell Shiny about JavaScript/CSS dependency files that should be used.</li>
</ul>
</div>
</div>
<div id="introduction-to-html" class="section level2">
<h2><span class="header-section-number">5.2</span> HTML 101</h2>
<p>To understand how UI functions in R work, let’s first talk about HTML, in case you’re not familiar with it (or its cousin, XML). If you’ve worked with HTML before, feel free to skip to Section <a href="advanced-ui.html#generating-html">5.3</a>.</p>
<p>HTML is a <em>markup language</em> for describing web pages. A markup language is just a document format that contains plain text content, plus embedded instructions for annotating, or “marking up”, specific sections of that content. These instructions can control the appearance, layout, and behavior of the text they mark up, and also provide structure to the document.</p>
<p>Here’s a simple snippet of HTML:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html">This time I <span class="kw">&lt;em&gt;</span>really<span class="kw">&lt;/em&gt;</span> mean it!</code></pre></div>
<p>The <code>&lt;em&gt;</code> and <code>&lt;/em&gt;</code> markup instructions indicate that the word <code>really</code> should be displayed with special <strong>em</strong>phasis (italics):</p>
<blockquote>This time I <em>really</em> mean it!</blockquote>
<p><code>&lt;em&gt;</code> is an example of a <em>start tag</em>, and <code>&lt;/em&gt;</code> (note the slash character) is an example of an <em>end tag</em>.</p>
<div id="inline-formatting-tags" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Inline formatting tags</h3>
<p><code>em</code> is just one of many HTML tags that are used to format text:</p>
<ul>
<li><code>&lt;strong&gt;...&lt;/strong&gt;</code> makes text <strong>bold</strong></li>
<li><code>&lt;u&gt;...&lt;/u&gt;</code> makes text <u>underlined</u></li>
<li><code>&lt;s&gt;...&lt;/s&gt;</code> makes text <s>strikeout</s></li>
<li><code>&lt;code&gt;...&lt;/code&gt;</code> makes text <code>monospaced</code></li>
</ul>
</div>
<div id="block-tags" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Block tags</h3>
<p>Another class of tags is used to wrap entire blocks of text. You can use <code>&lt;p&gt;...&lt;/p&gt;</code> to break text into distinct paragraphs, or <code>&lt;h3&gt;...&lt;/h3&gt;</code> to turn a line into a subheading.</p>
<style type="text/css">
.sourceCode.html {
  white-space: pre-wrap !important;
}
</style>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;h3&gt;</span>Chapter I. Down the Rabbit-Hole<span class="kw">&lt;/h3&gt;</span>

<span class="kw">&lt;p&gt;</span>Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‘and what is the use of a book,’ thought Alice ‘without pictures or conversations?’<span class="kw">&lt;/p&gt;</span>

<span class="kw">&lt;p&gt;</span>So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.<span class="kw">&lt;/p&gt;</span></code></pre></div>
<p>When rendered, this HTML looks like:</p>
<blockquote><h3>Chapter I. Down the Rabbit-Hole</h3>
<p>Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‘and what is the use of a book,’ thought Alice ‘without pictures or conversations?’</p>
<p>So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.</p></blockquote>
</div>
<div id="tags-with-attributes" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Tags with attributes</h3>
<p>Some tags need to do more than just demarcate some text. An <code>&lt;a&gt;</code> (for “anchor”) tag is used to create a hyperlink. It’s not enough to just wrap <code>&lt;a&gt;...&lt;/a&gt;</code> around the link’s text, as you also need to specify where the hyperlink points to.</p>
<p>Start tags let you include <em>attributes</em> that customize the appearance or behavior of the tag. In this case, we’ll add an <code>href</code> attribute to our <code>&lt;a&gt;</code> start tag:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>Learn more about <span class="kw">&lt;strong&gt;</span>Shiny<span class="kw">&lt;/strong&gt;</span> at <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;https://shiny.rstudio.com&quot;</span><span class="kw">&gt;</span>this website<span class="kw">&lt;/a&gt;</span>.<span class="kw">&lt;/p&gt;</span></code></pre></div>
<blockquote><p>Learn more about <strong>Shiny</strong> at <a href="https://shiny.rstudio.com">this website</a>.</p></blockquote>
<p>There are <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes">dozens of attributes</a> that all tags accept, and hundreds of attributes that are specific to particular tags. You don’t have to worry about memorizing them all–even full-time web developers don’t do that. There are two attributes that are used constantly, though.</p>
<p>The <code>id</code> attribute uniquely identifies a tag in a document. That is, no two tags in a single document should share the same <code>id</code> value, and each tag can have zero or one <code>id</code> value. As far as the web browser is concerned, the <code>id</code> attribute is completely optional and has no intrinsic effect on the appearance or behavior of the rendered tag. However, it’s incredibly useful for identifying a tag for special treatment by CSS or JavaScript, and as such, plays a crucial role for Shiny apps.</p>
<p>The <code>class</code> attribute provides a way of classifying tags in a document. Unlike <code>id</code>, any number of tags can have the same class, and each tag can have multiple classes (space separated). Again, classes don’t have an intrinsic effect, but are hugely helpful for using CSS or JavaScript to target groups of tags.</p>
<p>In the following example, we’ve given a <code>&lt;p&gt;</code> tag an id and two classes:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;storage-low-message&quot;</span><span class="ot"> class=</span><span class="st">&quot;message warning&quot;</span><span class="kw">&gt;</span>Storage space is running low!<span class="kw">&lt;/p&gt;</span></code></pre></div>
<blockquote><p id="storage-low-message" class="message warning">Storage space is running low!</p></blockquote>
<p>Here, the <code>id</code> and <code>class</code> values have had no discernible effect. But we could, for example, write CSS that any elements with the <code>message</code> class should appear at the top of the page, and that any elements with the <code>warning</code> class should have a yellow background and bold text; and we could write JavaScript that automatically dismisses the message if the storage situation improves.</p>
</div>
<div id="parents-and-children" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Parents and children</h3>
<p>In the example above, we have a <code>&lt;p&gt;</code> tag that contains some text that contains <code>&lt;strong&gt;</code> and <code>&lt;a&gt;</code> tag.s We can refer to <code>&lt;p&gt;</code> as the <em>parent</em> of <code>&lt;strong&gt;</code>/<code>&lt;a&gt;</code>, and <code>&lt;strong&gt;</code>/<code>&lt;a&gt;</code> as the <em>children</em> of <code>&lt;p&gt;</code>. And naturally, <code>&lt;strong&gt;</code> and <code>&lt;a&gt;</code> are called <em>siblings</em>.</p>
<p>It’s often helpful to think of tags and text as forming a tree structure:</p>
<pre><code>&lt;p&gt;
├── &quot;Learn more about&quot;
├── &lt;strong&gt;
│   └── &quot;Shiny&quot;
├── &quot;at&quot;
├── &lt;a href=&quot;...&quot;&gt;
│   └── &quot;this website&quot;
└── &quot;.&quot;</code></pre>
</div>
<div id="comments" class="section level3">
<h3><span class="header-section-number">5.2.5</span> Comments</h3>
<p>Just as you can use the <code>#</code> character to comment out a line of R code, HTML lets you comment out parts of your web page. Use <code>&lt;!--</code> to start a comment, and <code>--&gt;</code> to end one. Anything between these delimiters will be ignored during the rendering of the web page, although it will still be visible to anyone who looks at your raw HTML by using the browser’s View Source command.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>This HTML will be seen.<span class="kw">&lt;/p&gt;</span>

<span class="co">&lt;!-- &lt;p&gt;This HTML will not.&lt;/p&gt; --&gt;</span>

<span class="co">&lt;!--</span>
<span class="co">&lt;p&gt;</span>
<span class="co">Nor will this.</span>
<span class="co">&lt;/p&gt;</span>
<span class="co">--&gt;</span></code></pre></div>
<blockquote><p>This HTML will be seen.</p>

<!-- <p>This HTML will not.</p> -->

<!--
<p>
Nor will this.
</p>
--></blockquote>
</div>
<div id="escaping" class="section level3">
<h3><span class="header-section-number">5.2.6</span> Escaping</h3>
<p>Any markup language like HTML, where there are characters that have special meaning, needs to provide a way to “escape” those special characters–that is, to insert a special character into the document without invoking its special meaning.</p>
<p>For example, the <code>&lt;</code> character in HTML has a special meaning, as it indicates the start of a tag. What if you actually want to insert a <code>&lt;</code> character into the rendered document–or, let’s say, an entire <code>&lt;p&gt;</code> tag?</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>In HTML, you start paragraphs with &quot;<span class="kw">&lt;p&gt;</span>&quot; and end them with &quot;<span class="kw">&lt;/p&gt;</span>&quot;.<span class="kw">&lt;/p&gt;</span></code></pre></div>
<blockquote><p>In HTML, you start paragraphs with "<p>" and end them with "</p>".</p></blockquote>
<p>That doesn’t look as we intended at all! The browser has no way of knowing that we meant the outer <code>&lt;p&gt;</code> and <code>&lt;/p&gt;</code> to be interpreted as markup, and the inner <code>&lt;p&gt;</code> and <code>&lt;/p&gt;</code> to be interpreted as text.</p>
<p>Instead, we need to escape the inner tags so they become text. The escaped version of <code>&lt;</code> is <code>&amp;lt;</code>, and <code>&gt;</code> is <code>&amp;gt;</code>.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>In HTML, you start paragraphs with &quot;<span class="dv">&amp;lt;</span>p<span class="dv">&amp;gt;</span>&quot; and end them with &quot;<span class="dv">&amp;lt;</span>/p<span class="dv">&amp;gt;</span>&quot;.<span class="kw">&lt;/p&gt;</span></code></pre></div>
<blockquote><p>In HTML, you start paragraphs with "&lt;p&gt;" and end them with "&lt;/p&gt;".</p></blockquote>
<p>(Yes, escaped characters look pretty ugly. That’s just how it is.)</p>
<p>Each escaped character in HTML starts with <code>&amp;</code> and ends with <code>;</code>. There are lots of valid sequences of characters that go between, but besides <code>lt</code> (less than) and <code>gt</code> (greater than), the only one you’re likely to need to know is <code>amp</code>; <code>&amp;amp;</code> is how you insert a <code>&amp;</code> character into HTML.</p>
<p>Escaping <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> is mandatory if you don’t want them interpreted as special characters; other characters can be expressed as escape sequences, but it’s generally not necessary. Escaping <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> is so common and crucial that every web framework contains a function for doing it (in our case it’s <code>htmltools::htmlEscape</code>), but as we’ll see in a moment, Shiny will usually do this for you automatically.</p>
</div>
<div id="html-tag-vocabulary" class="section level3">
<h3><span class="header-section-number">5.2.7</span> HTML tag vocabulary</h3>
<p>That concludes our whirlwind tour of HTML syntax. This is all you’ll need to know to follow the discussion on the pages that follow.</p>
<p>The much larger part of learning HTML is getting to know the actual tags that are available to you, what attributes they offer, and how they work with each other. Fortunately, there are scores of excellent, free HTML tutorials and references online; Mozilla’s <em><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML">Introduction to HTML</a></em> is one example.</p>
</div>
</div>
<div id="generating-html" class="section level2">
<h2><span class="header-section-number">5.3</span> Generating HTML with tag objects</h2>
<p>With this background knowledge in place, we can now talk about how to write HTML using R. To do this, we’ll use the htmltools package. The htmltools package started life as a handful of functions in Shiny itself, and was later spun off as a standalone package when its usefulness for other packages–like rmarkdown and htmlwidgets–became evident.</p>
<p>In htmltools, we create the same trees of parent tags and child tags/text as in raw HTML, but we do so using R function calls instead of angle brackets. For example, this HTML from an earlier example:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;storage-low-message&quot;</span><span class="ot"> class=</span><span class="st">&quot;message warning&quot;</span><span class="kw">&gt;</span>Storage space is running low!<span class="kw">&lt;/p&gt;</span></code></pre></div>
<p>would look like this in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(htmltools)

<span class="kw">p</span>(<span class="dt">id=</span><span class="st">&quot;storage-low-message&quot;</span>, <span class="dt">class=</span><span class="st">&quot;message warning&quot;</span>, <span class="st">&quot;Storage space is running low!&quot;</span>)</code></pre></div>
<p id="storage-low-message" class="message warning">Storage space is running low!</p>
<p>This function call returns a tag object; when printed at the console, it displays its raw HTML code, and when included in Shiny UI, its HTML becomes part of the user interface.</p>
<p>Look carefully and you’ll notice:</p>
<ul>
<li>The <code>&lt;p&gt;</code> tag has become a <code>p()</code> <em>function call</em>, and the end tag is gone. Instead, the end of the <code>&lt;p&gt;</code> tag is indicated by the function call’s closing parenthesis.</li>
<li>The <code>id</code> and <code>class</code> attributes have become <em>named</em> arguments to <code>p()</code>.</li>
<li>The text contained within <code>&lt;p&gt;...&lt;/p&gt;</code> has become a string that is passed as an <em>unnamed</em> argument to <code>p()</code>.</li>
</ul>
<p>Let’s break down each of these bullets further.</p>
<div id="using-functions-to-create-tags" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Using functions to create tags</h3>
<p>The htmltools package exports the <code>p</code> function for the <code>&lt;p&gt;</code> tag, but because there are scores of valid HTML tags, it doesn’t export a function for each one. Only the most common HTML tags have a function directly exposed in the htmltools namespace: <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code> through <code>&lt;h6&gt;</code>, <code>&lt;a&gt;</code>, <code>&lt;br&gt;</code>, <code>&lt;div&gt;</code>, <code>&lt;span&gt;</code>, <code>&lt;pre&gt;</code>, <code>&lt;code&gt;</code>, <code>&lt;img&gt;</code>, <code>&lt;strong&gt;</code>, <code>&lt;em&gt;</code>, and <code>&lt;hr&gt;</code>. When writing these tags, you can simply use the tag name as the function name, e.g. <code>div()</code> or <code>pre()</code>.</p>
<p>To write all other tags, prefix the tag name with <code>tags$</code>. For example, to create a <code>&lt;ul&gt;</code> tag, there’s no dedicated <code>ul()</code> function, but you can call <code>tags$ul()</code>. The <code>tags</code> object is a named list that htmltools provides, and it comes preloaded with almost all of the valid tags in the HTML5 standard.</p>
<p>When writing a lot of HTML from R, you may find it tiresome to keep writing <code>tags$</code>. If so, you can use the <code>withTags</code> function to wrap an R expression, wherein you can omit the <code>tags$</code> prefix. In the following code, we call <code>ul()</code> and <code>li()</code>, whereas these would normally be <code>tags$ul()</code> and <code>tags$li()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">withTags</span>(
  <span class="kw">ul</span>(
    <span class="kw">li</span>(<span class="st">&quot;Item one&quot;</span>),
    <span class="kw">li</span>(<span class="st">&quot;Item two&quot;</span>)
  )
)</code></pre></div>
<ul>
<li>Item one</li>
<li>Item two</li>
</ul>
<p>Finally, in some relatively obscure cases, you may find that not even <code>tags</code> supports the tag you have in mind; this may be because the tag is newly added to HTML and has not been incorporated into htmltools yet, or because it’s a tag that isn’t defined in HTML per se but is still understood by browsers (e.g. the <code>&lt;circle&gt;</code> tag from SVG). In these cases, you can fall back to the <code>tag()</code> (singular) function and pass it any tag name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tag</span>(<span class="st">&quot;circle&quot;</span>, <span class="kw">list</span>(<span class="dt">cx=</span><span class="st">&quot;10&quot;</span>, <span class="dt">cy=</span><span class="st">&quot;10&quot;</span>, <span class="dt">r=</span><span class="st">&quot;20&quot;</span>, <span class="dt">stroke=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;white&quot;</span>))</code></pre></div>
<circle cx="10" cy="10" r="20" stroke="blue" fill="white"></circle>
<p>(Notice that the <code>tag()</code> function alone needs its attribute and children wrapped in a separate <code>list()</code> object. This is a historical quirk, don’t read into it.)</p>
</div>
<div id="using-named-arguments-to-create-attributes" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Using named arguments to create attributes</h3>
<p>When calling a tag function, any named arguments become HTML attributes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># From https://getbootstrap.com/docs/3.4/javascript/#collapse</span>
<span class="kw">a</span>(<span class="dt">class=</span><span class="st">&quot;btn btn-primary&quot;</span>, <span class="st">`</span><span class="dt">data-toggle</span><span class="st">`</span>=<span class="st">&quot;collapse&quot;</span>, <span class="dt">href=</span><span class="st">&quot;#collapseExample&quot;</span>,
  <span class="st">&quot;Link with href&quot;</span>
)</code></pre></div>
<pre><code>## &lt;a class=&quot;btn btn-primary&quot; data-toggle=&quot;collapse&quot; href=&quot;#collapseExample&quot;&gt;Link with href&lt;/a&gt;</code></pre>
<p>The preceding example includes some attributes with hyphens in their names. Be sure to quote such names using backticks, or single or double quotes. Quoting is also permitted, but not required, for simple alphanumeric names.</p>
<p>Generally, HTML attribute values should be single-element character vectors, as in the above example. Other simple vector types like integers and logicals will be passed to <code>as.character()</code>.</p>
<p>Another valid attribute value is <code>NA</code>. This means that the attribute should be included, but without an attribute value at all:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">input</span>(<span class="dt">type =</span> <span class="st">&quot;checkbox&quot;</span>, <span class="dt">checked =</span> <span class="ot">NA</span>)</code></pre></div>
<pre><code>## &lt;input type=&quot;checkbox&quot; checked/&gt;</code></pre>
<p>You can also use <code>NULL</code> as an attribute value, which means the attribute should be ignored (as if the attribute wasn’t included at all). This is helpful for conditionally including attributes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">is_checked &lt;-<span class="st"> </span><span class="ot">FALSE</span>
tags<span class="op">$</span><span class="kw">input</span>(<span class="dt">type =</span> <span class="st">&quot;checkbox&quot;</span>, <span class="dt">checked =</span> <span class="cf">if</span> (is_checked) <span class="ot">NA</span>)</code></pre></div>
<pre><code>## &lt;input type=&quot;checkbox&quot;/&gt;</code></pre>
</div>
<div id="using-unnamed-arguments-to-create-children" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Using unnamed arguments to create children</h3>
<p>Tag functions interpret unnamed arguments as children. Like regular HTML tags, each tag object can have zero, one, or more children; and each child can be one of several types of objects:</p>
<div id="tag-objects" class="section level4">
<h4><span class="header-section-number">5.3.3.1</span> Tag objects</h4>
<p>Tag objects can contain other tag objects. Trees of tag objects can be nested as deeply as you like.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">div</span>(
  <span class="kw">p</span>(
    <span class="kw">strong</span>(
      <span class="kw">a</span>(<span class="dt">href=</span><span class="st">&quot;https://example.com&quot;</span>, <span class="st">&quot;A link&quot;</span>)
    )
  )
)</code></pre></div>
<div>
<p>
<strong>
<a href="https://example.com">A link</a>
</strong>
</p>
</div>
</div>
<div id="plain-text" class="section level4">
<h4><span class="header-section-number">5.3.3.2</span> Plain text</h4>
<p>Tag objects can contain plain text, in the form of single-element character vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">p</span>(<span class="st">&quot;I like turtles.&quot;</span>)</code></pre></div>
<p>I like turtles.</p>
<p>Note that character vectors of longer length are not supported. Use the <code>paste</code> function to collapse such vectors to a single element.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(LETTERS)</code></pre></div>
<pre><code>##  chr [1:26] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">div</span>(<span class="kw">paste</span>(LETTERS, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>))</code></pre></div>
<div>A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z</div>
<p>One important characteristic of plain text is that htmltools assumes you want to treat all characters as <em>plain</em> text, including characters that have special meaning in HTML like <code>&lt;</code> and <code>&gt;</code>. As such, any special characters will be automatically escaped:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">div</span>(<span class="st">&quot;The &lt;strong&gt; tag is used to create bold text.&quot;</span>)</code></pre></div>
<div>The &lt;strong&gt; tag is used to create bold text.</div>
</div>
<div id="verbatim-html" class="section level4">
<h4><span class="header-section-number">5.3.3.3</span> Verbatim HTML</h4>
<p>Sometimes, you may have a string that should be interpreted as HTML; similar to plain text, except that special characters like <code>&lt;</code> and <code>&gt;</code> should retain their special meaning and be treated as markup. You can tell htmltools that these strings should be used verbatim (not escaped) by wrapping them with <code>HTML()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">html_string &lt;-<span class="st"> &quot;I just &lt;em&gt;love&lt;/em&gt; writing HTML!&quot;</span>
<span class="kw">div</span>(<span class="kw">HTML</span>(html_string))</code></pre></div>
<div>I just <em>love</em> writing HTML!</div>
<p><strong>Warning:</strong> Be very careful when using the <code>HTML()</code> function! If the string you pass to it comes from an untrusted source, either directly or indirectly, it could compromise the security of your Shiny app via an extremely common type of security vulnerability known as Cross-Site Scripting (XSS).</p>
<p>For example, you may ask a user of your app to provide their name, store that value in a database, and later display that name to a different user of your app. If the name is wrapped in <code>HTML()</code>, then the first user could provide a fragment of malicious HTML code in place of their name, which would then be served by Shiny to the second user. While I’m not aware of any such attacks having ever happened with a Shiny app, similar attacks have been carried out against companies as tech-savvy as Facebook, eBay, and Microsoft.</p>
<p>It is safe to use <code>HTML()</code> if your Shiny app will only ever be run locally for a single user (not deployed on a server for multiple users), or if you are absolutely sure you know where the HTML string came from and that its contents are safe.</p>
</div>
<div id="lists" class="section level4">
<h4><span class="header-section-number">5.3.3.4</span> Lists</h4>
<p>While each call to a tag function can have as many unnamed arguments as you want, you can also pack multiple children into a single argument by using a <code>list()</code>. The following two code snippets will generate identical results:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">ul</span>(
  tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;A&quot;</span>),
  tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;B&quot;</span>),
  tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;C&quot;</span>)
)</code></pre></div>
<ul>
<li>A</li>
<li>B</li>
<li>C</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">ul</span>(
  <span class="kw">list</span>(
    tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;A&quot;</span>),
    tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;B&quot;</span>),
    tags<span class="op">$</span><span class="kw">li</span>(<span class="st">&quot;C&quot;</span>)
  )
)</code></pre></div>
<ul>
<li>A</li>
<li>B</li>
<li>C</li>
</ul>
<p>It can sometimes be handy to use a list when generating tag function calls programmatically. The snippet below uses <code>lapply</code> to simplify the previous example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">ul</span>(
  <span class="kw">lapply</span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], tags<span class="op">$</span>li)
)</code></pre></div>
<ul>
<li>A</li>
<li>B</li>
<li>C</li>
</ul>
</div>
<div id="null" class="section level4">
<h4><span class="header-section-number">5.3.3.5</span> NULL</h4>
<p>You can use <code>NULL</code> as a tag child. <code>NULL</code> children are similar to <code>NULL</code> attributes; they’re simply ignored, and are only supported to make conditional child items easier to express.</p>
<p>In this example, we use <code>show_beta_warning</code> to decide whether or not to show a warning; if not, the result of the <code>if</code> clause will be <code>NULL</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">show_beta_warning &lt;-<span class="st"> </span><span class="ot">FALSE</span>

<span class="kw">div</span>(
  <span class="kw">h3</span>(<span class="st">&quot;Welcome to my Shiny app!&quot;</span>),
  <span class="cf">if</span> (show_beta_warning) {
    <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;alert alert-warning&quot;</span>, <span class="dt">role =</span> <span class="st">&quot;alert&quot;</span>,
      <span class="st">&quot;Warning: This app is in beta; some features may not work!&quot;</span>
    )
  }
)</code></pre></div>
<div>
<h3>Welcome to my Shiny app!</h3>
</div>
</div>
<div id="mix-and-match" class="section level4">
<h4><span class="header-section-number">5.3.3.6</span> Mix and match</h4>
<p>Tag functions can be called with any number of unnamed arguments, and different types of children can be used within a single call.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">div</span>(
  <span class="st">&quot;Text!&quot;</span>,
  <span class="kw">strong</span>(<span class="st">&quot;Tags!&quot;</span>),
  <span class="kw">HTML</span>(<span class="st">&quot;Verbatim &lt;span&gt;HTML!&lt;/span&gt;&quot;</span>),
  <span class="ot">NULL</span>,
  <span class="kw">list</span>(
    <span class="st">&quot;Lists!&quot;</span>
  )
)</code></pre></div>
<div>
Text!
<strong>Tags!</strong>
Verbatim <span>HTML!</span>
Lists!
</div>
</div>
</div>
</div>
<div id="using-css" class="section level2">
<h2><span class="header-section-number">5.4</span> Customizing with CSS</h2>
<p>In the previous section, we talked about HTML, the markup language that specifies the structure and content of the page. Now we’ll talk about Cascading Style Sheets (CSS), the language that specifies the visual style and layout of the page. Similar to our treatment of HTML, we’ll give you an extremely superficial introduction to CSS—just enough to be able to parse the syntax visually, not enough to write your own. Then we’ll talk about the mechanisms available in Shiny for adding your own CSS.</p>
<div id="introduction-to-css" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Introduction to CSS</h3>
<p>As we saw in the previous sections, we use HTML to create a tree of tags and text. CSS lets us specify directives that control how that tree is rendered; each directive is called a <em>rule</em>.</p>
<p>Here’s some example CSS that includes two rules: one that causes all <code>&lt;h3&gt;</code> tags (level 3 headings) to turn red and italic, and one that hides all <code>&lt;div class=&quot;alert&quot;&gt;</code> tags in the <code>&lt;footer&gt;</code>:</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">h3 <span class="kw">{</span>
  <span class="kw">color:</span> <span class="dt">red</span><span class="kw">;</span>
  <span class="kw">font-style:</span> <span class="dt">italic</span><span class="kw">;</span>
<span class="kw">}</span>

footer div<span class="fl">.alert</span> <span class="kw">{</span>
  <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span></code></pre></div>
<p>The part of the rule that precedes the opening curly brace is the <em>selector</em>; in this case, <code>h3</code>. The selector indicates which tags this rule applies to.</p>
<p>The parts of the rule inside the curly braces are <em>properties</em>. This particular rule has two properties, each of which is terminated by a semicolon.</p>
<div id="css-selectors" class="section level4">
<h4><span class="header-section-number">5.4.1.1</span> CSS selectors</h4>
<p>The particular selector we used in these cases (<code>h3</code> and <code>footer div.alert</code>) are very simple, but selectors can be quite complex. You can select tags that match a specific <code>id</code> or <code>class</code>, select tags based on their parents, select tags based on whether they have sibling tags. You can combine such critieria together using “and”, “or”, and “not” semantics.</p>
<p>Here are some extremely common selector patterns:</p>
<ul>
<li><code>.foo</code> - All tags whose <code>class</code> attributes include <code>foo</code></li>
<li><code>div.foo</code> - All <code>&lt;div&gt;</code> tags whose <code>class</code> attributes include <code>foo</code></li>
<li><code>#bar</code> - The tag whose <code>id</code> is <code>bar</code></li>
<li><code>div#content p:not(#intro)</code> - All <code>&lt;p&gt;</code> tags inside the <code>&lt;div&gt;</code> whose <code>id</code> is <code>content</code>, except the <code>&lt;p&gt;</code> tag whose <code>id</code> is <code>intro</code></li>
</ul>
<p>A full introduction to CSS selectors is outside the scope of this chapter, but if you’re interested in learning more, the Mozilla <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors">tutorial on CSS selectors</a> is a good place to start.</p>
</div>
<div id="css-properties" class="section level4">
<h4><span class="header-section-number">5.4.1.2</span> CSS properties</h4>
<p>The syntax of CSS properties is very simple and intuitive. What’s challenging about CSS properties is that there are so darn many of them. There are dozens upon dozens of properties that control typography, margin and padding, word wrapping and hyphenation, sizing and positioning, borders and shadows, scrolling and overflow, animation and 3D transforms… the list goes on and on.</p>
<p>Here are some examples of common properties:</p>
<ul>
<li><code>font-family: Open Sans, Helvetica, sans-serif;</code> Display text using the Open Sans typeface, if it’s available; if not, fall back first to Helvetica, and then to the browser’s default sans serif font.</li>
<li><code>font-size: 14pt;</code> Set the font size to 14 point.</li>
<li><code>width: 100%; height: 400px;</code> Set the width to 100% of the tag’s container, and the height to a fixed 400 pixels.</li>
<li><code>max-width: 800px;</code> Don’t let the tag grow beyond 800 pixels wide.</li>
</ul>
<p>Most of the effort in mastering CSS is in knowing what properties are available to you, and understanding when and how to use them. Again, the rest of this large topic is outside of our scope, but you can learn more from Mozilla’s <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS resources page</a>.</p>
</div>
</div>
<div id="including-custom-css-in-shiny" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Including custom CSS in Shiny</h3>
<p>Shiny gives you several options for adding custom CSS into your apps. Which method you choose will depend on the amount and complexity of your CSS.</p>
<div id="inline-style-tag-with-tagsstyle" class="section level4">
<h4><span class="header-section-number">5.4.2.1</span> Inline style tag with <code>tags$style</code></h4>
<p>If you have one or two very simple rules, the easiest way to add CSS is by inserting a <code>&lt;style&gt;</code> tag, using <code>tags$style()</code>. This can go almost anywhere in your UI.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(shiny)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;shiny&#39;</code></pre>
<pre><code>## The following object is masked _by_ &#39;.GlobalEnv&#39;:
## 
##     knit_print.shiny.tag</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(
  tags<span class="op">$</span><span class="kw">style</span>(<span class="kw">HTML</span>(<span class="st">&quot;</span>
<span class="st">    body, pre { font-size: 18pt; }</span>
<span class="st">  &quot;</span>))
)</code></pre></div>
<p>The <code>HTML()</code> is only strictly necessary if your CSS code includes special characters like <code>&lt;</code>, <code>&gt;</code>, or <code>&amp;</code>; those characters will be escaped by default, which will lead to invalid CSS. I like to add it as a matter of habit, though you should heed the warning about untrusted input in Section <a href="advanced-ui.html#verbatim-html">5.3.3.3</a>.</p>
</div>
<div id="standalone-css-file-with-includecss" class="section level4">
<h4><span class="header-section-number">5.4.2.2</span> Standalone CSS file with <code>includeCSS</code></h4>
<p>The second method is to write a standalone <code>.css</code> file, and use the <code>includeCSS</code> function to add it to your UI. If you’re writing more than a couple of lines of CSS, this gives you the benefit of being able to use a text editor that knows how to interpret CSS. Most text editors, including RStudio IDE, will be able to provide syntax highlighting and autocompletion when editing <code>.css</code> files.</p>
<p>For example, if you have a <code>custom.css</code> file sitting next to your <code>app.R</code>, you can do something like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(
  <span class="kw">includeCSS</span>(<span class="st">&quot;custom.css&quot;</span>),
  ... <span class="co"># the rest of your UI</span>
)</code></pre></div>
<p>The <code>includeCSS</code> call will return a <code>&lt;style&gt;</code> tag, whose body is the content of <code>custom.css</code>.</p>
<p>If you wish for this CSS to be hoisted into the page’s <code>&lt;head&gt;</code> tag, you can call <code>tags$head(includeCSS(&quot;custom.css&quot;))</code>, though in practice it doesn’t make a lot of difference either way.</p>
</div>
<div id="standalone-css-file-with-link-tag" class="section level4">
<h4><span class="header-section-number">5.4.2.3</span> Standalone CSS file with <code>&lt;link&gt;</code> tag</h4>
<p>Perhaps you have a large amount of CSS in a standalone <code>.css</code> file, and you don’t want it to be inserted directly into the HTML page, as <code>includeCSS</code> does. You can also choose to serve up the <code>.css</code> file at a separate URL, and link to it from your UI.</p>
<p>To do this, create a <code>www</code> subdirectory in your application directory (the same directory that contains <code>app.R</code>) and put your CSS file there—for example, <code>www/custom.css</code>. Then add the following line to your UI:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">head</span>(tags<span class="op">$</span><span class="kw">link</span>(<span class="dt">rel=</span><span class="st">&quot;stylesheet&quot;</span>, <span class="dt">type=</span><span class="st">&quot;text/css&quot;</span>, <span class="dt">href=</span><span class="st">&quot;custom.css&quot;</span>))</code></pre></div>
<p>(Note that the <code>href</code> attribute should <em>not</em> include <code>www</code>; Shiny makes the contents of the <code>www</code> directory available at the root URL path.)</p>
<p>This approach makes sense for CSS that is intended for a specific Shiny app. If you are writing CSS for a reusable component, especially one in an R package, keep reading to learn about HTML dependencies.</p>
</div>
</div>
</div>
<div id="dependencies" class="section level2">
<h2><span class="header-section-number">5.5</span> Managing JavaScript/CSS dependencies</h2>
<p>One of the best things about working with HTML is the absolutely mindboggling number of open source JavaScript and/or CSS libraries that you can incorporate into your pages. Such libraries can be as simple as a few dozen styling rules in a single .css file, or as complex as 670KB of minified JavaScript for <a href="https://docs.mapbox.com/mapbox-gl-js/overview/">visualizing spatial data using WebGL</a>.</p>
<p>Whether simple or complex, the first step in using any JavaScript/CSS library is referencing its .js and/or .css files from your HTML. Any well-documented library will have a “Getting Started” section that includes a snippet of HTML, including <code>&lt;script&gt;</code> and/or <code>&lt;link&gt;</code> tags, that need to be pasted into the special <code>&lt;head&gt;</code> section of the webpage.</p>
<p>This puts the onus on the webpage author to know about all the JavaScript/CSS dependencies that are used by any element of the page. For traditional web developers, that’s totally normal. But for Shiny (and R Markdown, and htmlwidgets), we wanted to free R users from having to think very much about JavaScript/CSS dependencies at all.</p>
<p>For example, the <code>sliderInput</code> that comes with Shiny happens to be implemented using a JavaScript library called <a href="http://ionden.com/a/plugins/ion.rangeSlider/">ionRangeSlider</a>. With the traditional approach, if you wanted to add a <code>sliderInput</code> to your Shiny app, you’d also have to make a separate declaration somewhere in your UI to load the .js and .css files for ionRangeSlider. And you’d have to make sure that you only make that declaration once per page, lest you accidentally load a library twice, which can cause some libraries to stop working.</p>
<p>For Shiny, we wanted instead to have R users simply call <code>sliderInput()</code>, and let us sort out the necessary dependencies automatically. In fact, we want R users to be able to combine whatever UI objects they want, and just not think about dependencies at all.</p>
<p>To make this possible, we created a first-class object for HTML dependencies.</p>
<p>An HTML dependency object is a description of a single JavaScript/CSS library. As a Shiny app author, you generally don’t create these directly. Instead, these objects are created by package authors who want to make reusable UI functions that depend on external JavaScript/CSS—like <code>sliderInput()</code>. If you’re such a package author, you absolutely should be using HTML dependency objects rather than calling <code>tags$link()</code>, <code>tags$script()</code>, or <code>includeCSS</code> directly.</p>
<div id="creating-html-dependency-objects" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Creating HTML dependency objects</h3>
<p>To form such an object, you call <code>htmlDependency</code> with the following arguments:</p>
<ol style="list-style-type: decimal">
<li><code>name</code>: The name of the library.</li>
<li><code>version</code>: The version number of the library. (If two or more HTML dependency objects are found with the same name but different version numbers, only the one with the latest version number will be loaded.)</li>
<li><code>src</code>: A single location where the library’s resources (JavaScript, CSS, and/or images) can be found. This is usually an absolute filesystem path, but can also be a web URL. For resources that are bundled into an R package, you can provide a relative filesystem path (relative to the installed package directory, i.e. <code>system.file(package=&quot;pkgname&quot;)</code>) if you provide an additional <code>package</code> argument.</li>
<li><code>script</code>: Relative paths to JavaScript files that should be loaded.</li>
<li><code>stylesheet</code>: Relative paths to CSS files that should be loaded.</li>
</ol>
<p>Here’s an example from the <a href="https://github.com/rstudio/leaflet.mapboxgl">leaflet.mapboxgl</a> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mapbox_gl_dependency &lt;-<span class="st"> </span><span class="kw">htmlDependency</span>(
  <span class="st">&quot;mapbox-gl&quot;</span>,
  <span class="st">&quot;0.53.1&quot;</span>,
  <span class="dt">src =</span> <span class="st">&quot;node_modules/mapbox-gl/dist&quot;</span>,
  <span class="dt">package =</span> <span class="st">&quot;leaflet.mapboxgl&quot;</span>,
  <span class="dt">script =</span> <span class="st">&quot;mapbox-gl.js&quot;</span>,
  <span class="dt">stylesheet =</span> <span class="st">&quot;mapbox-gl.css&quot;</span>,
  <span class="dt">all_files =</span> <span class="ot">FALSE</span>
)</code></pre></div>
<p>In this example, the leaflet.mapboxgl package has a <code>node_modules/mapbox-gl/dist</code> subdirectory that contains two files: <code>mapbox-gl.js</code> and <code>mapbox-gl.css</code>.</p>
<p>For this particular library, we could also have pointed to these hosted URLs:</p>
<p><a href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js" class="uri">https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js</a> <a href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css" class="uri">https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css</a></p>
<p>We can do this by passing <code>src=c(href=&quot;https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/&quot;)</code> and removing the <code>package</code> argument. However, be aware that a small but significant number of Shiny users do so from networks that are disconnected from the wider Internet for security reasons, and for those users, this dependency would fail to load.</p>
</div>
<div id="using-html-dependency-objects" class="section level3">
<h3><span class="header-section-number">5.5.2</span> Using HTML dependency objects</h3>
<p>Once you’ve created an HTML dependency object, using it is straightforward.</p>
<p>If you have a function that returns a tag object, have that function return a tag object and dependency instead, using a <code>tagList</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">create_mapbox_map &lt;-<span class="st"> </span><span class="cf">function</span>(map_id) {
  <span class="kw">tagList</span>(
    <span class="kw">div</span>(<span class="dt">id =</span> map_id),
    mapbox_gl_dependency
  )
}</code></pre></div>
<p>You can bundle any number of dependencies with your HTML this way; just add additional dependency arguments to the <code>tagList</code>.</p>
<p>TODO: Exercises?</p>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="reactivity-intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reactivity-mental-model.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jcheng5/shiny-book/edit/master/advanced-ui.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["shiny-book.pdf", "shiny-book.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
